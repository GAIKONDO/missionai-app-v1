# SQLiteコマンドラインで組織を削除する方法
# ターミナルで以下を実行してください

# 1. データベースに接続
sqlite3 ~/Library/Application\ Support/com.missionai.app/mission-ai-local-dev/mission_ai.db

# 2. 以下のコマンドを順番に実行

# 外部キー制約を無効化
PRAGMA foreign_keys = OFF;

# この組織を親として参照している他の組織のparentIdをNULLに設定
# (_rowid_ = 2 の場合、まず組織IDを取得)
SELECT id FROM organizations WHERE _rowid_ = 2;

# 上記で取得した組織IDを使って、parentIdをNULLに設定
# 例: UPDATE organizations SET parentId = NULL WHERE parentId = '取得した組織ID';

# 組織を削除
DELETE FROM organizations WHERE _rowid_ = 2;

# 外部キー制約を再有効化
PRAGMA foreign_keys = ON;

# 確認
SELECT changes();

# 終了
.quit


